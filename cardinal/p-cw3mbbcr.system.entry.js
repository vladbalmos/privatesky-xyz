System.register(["./p-226ad382.system.js","./p-57436eba.system.js","./p-5ca8f7bd.system.js","./p-7db317d0.system.js"],function(t){"use strict";var e,r,n,i,a,o,s,c;return{setters:[function(t){e=t.r;r=t.h;n=t.g},function(t){i=t.i;a=t.s;o=t.c},function(t){s=t.T},function(t){c=t.C}],execute:function(){function l(t){var e=this;var r=t.parentEventData&&t.parentEventData;if(!r){return}var n=Array.from(e.element.querySelectorAll("psk-chapter"));e.activeChapter=null;var i=r.scrollTop;var a=r.offsetHeight;var o=u(n);f.call(e,o,i,a)}function u(t){var e=[];t.forEach(function(t){var r=t.getAttribute("guid");if(!r){return null}var n=t.getElementsByClassName("card psk-card")?t.getElementsByClassName("card psk-card")[0]:null;if(!n){return null}var i=p(n,e);e.push({guid:r,height:n.offsetHeight,verticalOffset:i,title:t.title})});return e}function f(t,e,r){var n=this;var i=t.find(function(t){return e<=t.verticalOffset&&t.verticalOffset+t.height<=e+r});if(i){n.activeChapter=i.guid;return}var a=t.filter(function(t){return e>=t.verticalOffset&&(e+r<=t.verticalOffset+t.height||e<=t.verticalOffset+t.height)});if(a.length>0){n.activeChapter=a[a.length-1].guid;return}if(t.length>0){n.activeChapter=t[0].guid}}function p(t,e){var r=t.offsetTop;var n=t.offsetHeight;var a=e[e.length-1]?e[e.length-1]:null;if(a){var o=a.verticalOffset,s=a.height;if(o>r||o+s>r+n){var c=i(t,"psk-chapter",2);var l=e.find(function(t){return c&&t.guid===c.getAttribute("guid")});if(l){r+=l.verticalOffset}}}return r}var h=undefined&&undefined.__decorate||function(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)if(o=t[s])a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a;return i>3&&a&&Object.defineProperty(e,r,a),a};var d=t("psk_page",function(){function t(t){var r=this;e(this,t);this.activeChapter=null;this.chapters=[];this.title="";this.componentFullyLoaded=false;this.handleScrollEvent=function(t){l.call(r,t)}}t.prototype.receiveChapters=function(t){t.stopImmediatePropagation();if(!t.detail){return}var e=Object.assign({},t.detail);var r=function(t){return e.guid===t.guid};var n=this.chapters.findIndex(r);var i=this.chapters.slice();if(n===-1){i.push(Object.assign({},e));this.chapters=JSON.parse(JSON.stringify(i));return}i[n]=Object.assign({},e);this.chapters=JSON.parse(JSON.stringify(i))};t.prototype._checkForChapterScrolling=function(){var t=this;if(window.location.href.indexOf("chapter=")===-1){return}var e=window.location.href.split("chapter=")[1];setTimeout(function(){a(e,t.element)},50)};t.prototype._sendTableOfContentChapters=function(){o("psk-send-toc",{bubbles:true,composed:true,cancelable:true,detail:{chapters:this.chapters,active:this.activeChapter}},true)};t.prototype.componentDidLoad=function(){this.componentFullyLoaded=true;document.addEventListener("pageScroll",this.handleScrollEvent,true);this._checkForChapterScrolling()};t.prototype.disconnectedCallback=function(){document.removeEventListener("pageScroll",this.handleScrollEvent,true)};t.prototype.render=function(){this._sendTableOfContentChapters();return r("div",null,r("nav",null,r("h3",null,this.title)),r("div",{class:"page-content container"},this.componentFullyLoaded?r("slot",null):r("psk-ui-loader",{shouldBeRendered:true})))};Object.defineProperty(t.prototype,"element",{get:function(){return n(this)},enumerable:true,configurable:true});return t}());h([c()],d.prototype,"activeChapter",void 0);h([s({description:"This property will be used as the title for the page.",isMandatory:false,propertyType:"string"})],d.prototype,"title",void 0);h([s({description:"This property is the name of the table of content.",isMandatory:false,propertyType:"string"})],d.prototype,"tocTitle",void 0)}}});